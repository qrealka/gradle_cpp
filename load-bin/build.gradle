/*
 * This build file was auto generated by running the Gradle 'init' task
 * by 'dloginov' at '11/4/15 11:37 PM' with Gradle 2.8
 *
 * This generated file contains a commented-out sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at https://docs.gradle.org/2.8/userguide/tutorial_java_projects.html


apply plugin: 'maven'*/
apply plugin: 'cpp'
		
// In this section you declare where to find the dependencies of your project
repositories {
	// Use 'jcenter' for resolving your dependencies.
	// You can declare any Maven/Ivy/file repository here.
	// jcenter()
	maven {
	    credentials {
            username nexusUsername
            password nexusPassword
        }

	    url "${nexusUrl}/content/repositories/releases"
	}
}

configurations {
	freetype
}

dependencies {
	freetype group:"nitro", name: "freetype", version: "1.0.1", ext: "zip"
}

task extractZip(type: Copy) {
	ext.libsDir = "${buildDir}/libs"
	from { configurations.freetype.collect{ zipTree(it) } }
	into (libsDir)
}

model {
	repositories {
		libs(PrebuiltLibraries) {
			freetype {
				headers.srcDir "${extractZip.libsDir}/freetype-1.0.1/include/freetype"
			}
		}
	}
	components {
		main(NativeExecutableSpec) {
			sources {
				cpp.lib library: 'freetype', linkage: 'api'
				cpp {
					source {
						srcDirs "src"
						include "**/*.cpp"
					}
                    exportedHeaders {
                        srcDirs "inc"
                        include "*.h"
                    }
                }
			}
		}
	}
	tasks.mainExecutable {
		dependsOn extractZip
	}
}


task wrapper( type: Wrapper, description: "create a gradlew" ) {
	gradleVersion = '2.8'
}


